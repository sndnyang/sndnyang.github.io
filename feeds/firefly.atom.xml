<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>懒龙微薄</title><link href="/" rel="alternate"></link><link href="/feeds/firefly.atom.xml" rel="self"></link><id>/</id><updated>2014-06-16T14:15:30+08:00</updated><entry><title>label_shell工具</title><link href="/label_shellgong-ju.html" rel="alternate"></link><updated>2014-06-16T14:15:30+08:00</updated><author><name>sndnyang</name></author><id>tag:,2014-06-16:label_shellgong-ju.html</id><summary type="html">&lt;p&gt;% 使用shell 来完成建label&lt;br /&gt;
% 杨秀隆&lt;br /&gt;
% 20140508  &lt;/p&gt;
&lt;h1&gt;建label&lt;/h1&gt;
&lt;h2&gt;整体流程&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;设置全局参数  hff_global.sh&lt;/li&gt;
&lt;li&gt;检查开发环境  hff_check_repo.sh&lt;/li&gt;
&lt;li&gt;检查link     hff_check_link.sh&lt;/li&gt;
&lt;li&gt;新建link   hff_create_link.sh&lt;/li&gt;
&lt;li&gt;开发环境建label makelabel_dev.sh&lt;/li&gt;
&lt;li&gt;提交到编译环境 （未完成, 手工)&lt;/li&gt;
&lt;li&gt;编译环境建label makelabel_rel.sh&lt;/li&gt;
&lt;li&gt;运行实例建label  （未完成， 手动）&lt;/li&gt;
&lt;li&gt;下载编译环境label download_label.sh&lt;/li&gt;
&lt;li&gt;提交到ftp      upload_label.sh&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;步骤详述&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;设置全局参数  &lt;/li&gt;
&lt;li&gt;根据提示的文件路径，检查版本库地址、用户、密码信息&lt;br /&gt;
     windows下使用git bash时，请使用utf-8 格式
     unix/linux下，则使用默认格式即可&lt;/li&gt;
&lt;li&gt;项目参数配置&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;检查开发环境&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;检查Link 配置
    建链接方法待更新，敬请期待，哈哈。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;开发环境建label&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;编译环境更新label&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;编译环境建label&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;使用环境&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;99.1.57.232 开发环境，任意目录下 hff_label.sh &lt;/li&gt;
&lt;li&gt;99.1.57.232 /home/midsrv/user/yxl/tools/firefly 所有shell文件在这里&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;使用说明&lt;/h2&gt;
&lt;p&gt;以上步骤，使用hff_label.sh 完整运行。
也可以使用单个脚本文件执行部分功能。
既能拆分，也能组合。&lt;/p&gt;</summary></entry><entry><title>Firefly命令</title><link href="/fireflyming-ling.html" rel="alternate"></link><updated>2014-05-28T16:56:52+08:00</updated><author><name>sndnyang</name></author><id>tag:,2014-05-28:fireflyming-ling.html</id><summary type="html">&lt;p&gt;% FireFly 总结&lt;br /&gt;
% 杨秀隆&lt;br /&gt;
% 2014-05-28&lt;/p&gt;
&lt;h1&gt;FireFly 总结&lt;/h1&gt;
&lt;h2&gt;FireFly 命令&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;hff 会直接显示命令， 效果等同于 hff -?&lt;/li&gt;
&lt;li&gt;hff create 文件名 文件名 文件名&lt;/li&gt;
&lt;li&gt;hff submit 文件名 文件名 文件名&lt;/li&gt;
&lt;li&gt;hff edit 文件名 文件名 文件名&lt;/li&gt;
&lt;li&gt;hff list-out 目录，查看是否有 edit，但没有submit的文件&lt;/li&gt;
&lt;li&gt;hff list-hijacked 目录，查看是否有强行非法修改的文件&lt;/li&gt;
&lt;li&gt;hff list-nwf 目录，查看是否有没有添加到Firefly管理的文件&lt;/li&gt;
&lt;li&gt;hff diffs 文件名   查看版本区别&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;FireFly 问题&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;firefly 提交或签出 No changeset found 错误&lt;br /&gt;
   在Firefly Command Line 中，进入工作区目录，输入：hff check -repair ,   即可修复变更集&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>label流程</title><link href="/labelliu-cheng.html" rel="alternate"></link><updated>2014-05-22T11:55:06+08:00</updated><author><name>sndnyang</name></author><id>tag:,2014-05-22:labelliu-cheng.html</id><summary type="html">
&lt;h1 id="_1"&gt;完整流程&lt;/h1&gt;
&lt;h2 id="_2"&gt;流程步骤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;client新建项目&lt;/li&gt;
&lt;li&gt;开发环境编辑项目、文件后提交&lt;/li&gt;
&lt;li&gt;server explorer 建立link&lt;/li&gt;
&lt;li&gt;开发环境建label&lt;/li&gt;
&lt;li&gt;上传编译环境、覆盖&lt;/li&gt;
&lt;li&gt;编译环境打label&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="firefly-client"&gt;firefly client&lt;/h1&gt;
&lt;h2 id="_3"&gt;客户端新建项目&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;拷贝 模板文件夹 副本， 改名为 项目名-项目编号&lt;/li&gt;
&lt;li&gt;将此文件夹放到 firefly 控制的主目录下，&lt;br/&gt;
   示例:&lt;br/&gt;
   下载分支 LB03_直付通项目， 在该分支中从模板文件夹建立新项目。&lt;/li&gt;
&lt;li&gt;右键添加到firefly控制中。&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="firefly-server-explorer"&gt;firefly server explorer&lt;/h1&gt;
&lt;h2 id="link"&gt;建立link链接&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;选中项目（一般选主分支下的XXX_YYY项目 这个分支）&lt;/li&gt;
&lt;li&gt;点创建链接，选择分支（选择相应REL分支）
   例如 LB_03直付通系统——MainBranch——LB03_直付通_REL——LB03_直付通_DEV 或 LB03_直付通MIDRUN_DEV 
   如图：&lt;br/&gt;
&lt;img alt="选择分支" src="images/link_rel_dev.jpg"/&gt;&lt;/li&gt;
&lt;li&gt;选择源分支及目标分支的路径&lt;br/&gt;
   源分支：选择到产品下一级的项目，如PAYFEE-EPAY&lt;br/&gt;
   目标分支：选择到项目-程序（文档）-XX 一级。&lt;br/&gt;
   如图：&lt;br/&gt;
&lt;img alt="选择路径" src="/images/link_path.jpg"/&gt;&lt;/li&gt;
&lt;li&gt;点击中间的 &amp;gt;&amp;gt; 符号，即可链接过去。选中 Readonly后，下一步。&lt;/li&gt;
&lt;li&gt;后续填写，完成。 &lt;br/&gt;
   如图: &lt;br/&gt;
&lt;img alt="选择路径" src="/images/link_comment.jpg"/&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="_4"&gt;开发环境&lt;/h1&gt;
&lt;h2 id="_5"&gt;项目编辑常用命令&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;hff create 文件名/文件夹名/.(指当前全部) &lt;/li&gt;
&lt;li&gt;hff edit/unedit  文件名/文件夹名/.(指当前全部)&lt;/li&gt;
&lt;li&gt;hff submit  文件名/文件夹名/.(指当前全部)&lt;/li&gt;
&lt;li&gt;hff list-out 目录，查看是否有edit，但没有submit的文件 &lt;/li&gt;
&lt;li&gt;hff list-hijacked 目录，查看是否有强行非法修改的文件 &lt;/li&gt;
&lt;li&gt;hff list-nwf 目录，查看是否有没有添加到Firefly管理的文件 &lt;/li&gt;
&lt;li&gt;hff diffs 文件名，查看版本区别&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="label"&gt;开发环境建label&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;编辑文件列表&lt;/li&gt;
&lt;li&gt;运行脚本 &lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_6"&gt;编辑文件列表&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;devfile.txt  &lt;br/&gt;
   要提交文件的相对路径，模板见 label工具/devfile.txt
   格式:  &lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;项目名&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="err"&gt;项目编号\&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="err"&gt;\文件&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;path由建立link链接时的路径加代码文件所在路径组合。&lt;br/&gt;
   示例：  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;否认交易处理系统维护改进&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;T1317341&lt;/span&gt;&lt;span class="err"&gt;\程序\服务器程序\&lt;/span&gt;&lt;span class="n"&gt;EPAY&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;script&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;EPAY_CHL_90210_Script&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cfg&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;EPAY之前是目标分支的路径，从EPAY到之后是源分支中链接路径。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_7"&gt;运行脚本&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;makelabel_dev.bat&lt;br/&gt;
   修改&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PRJ_NAME 项目&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;REL_BRANCH 编译分支名&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;LABEL_NAME 标签名 &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;执行&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="_8"&gt;编译环境&lt;/h1&gt;
&lt;h2 id="_9"&gt;下载&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;登陆 99.1.76.245  midsrv/midsrv&lt;br/&gt;
   cd tmp&lt;/li&gt;
&lt;li&gt;downlaod_lbl.sh label名&lt;/li&gt;
&lt;li&gt;覆盖相应项目的流程文件 或是 添加&lt;/li&gt;
&lt;li&gt;hff create  文件名/文件夹名/.(指当前全部)&lt;/li&gt;
&lt;li&gt;hff edit  文件名/文件夹名/.(指当前全部)&lt;/li&gt;
&lt;li&gt;hff submit  文件名/文件夹名/.(指当前全部)&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="label_1"&gt;编译环境打label&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;relfile.txt &lt;br/&gt;
   要提交文件的相对路径，模板见 label工具/devfile.txt&lt;br/&gt;
   格式:&lt;br/&gt;
        path\文件
   path为文件完整路径&lt;br/&gt;
   示例：  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;midsrv&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;PAYFEE&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;EPAY&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;script&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;EPAY_CHL_90210_Script&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cfg&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;makelable_rel.bat
   修改&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PRJ_NAME 项目&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;REL_BRANCH 编译分支名&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;LABEL_NAME 标签名 &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;执行&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="label_2"&gt;运行实例label&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;进入到对应的项目下(如LB01总行中间业务-&amp;gt;LB01通信前置网关)&lt;/li&gt;
&lt;li&gt;右键,如右键LB01_通信前置网关_项目,选择Label&lt;/li&gt;
&lt;li&gt;填写好Name,如T1210101_LB01(BLGW)_V01.00_L01(最好选择下面的Inherit...)&lt;/li&gt;
&lt;li&gt;之后的一步选择所更新的文件&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_10"&gt;比较&lt;/h2&gt;
&lt;p&gt;右键 compare&lt;/p&gt;
&lt;h2 id="st"&gt;放入ST环境&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;download_label.bat&lt;/li&gt;
&lt;li&gt;ftp_foler.bat&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;st发布ftp  ftp://99.8.43.86 devuser/devuser&lt;/p&gt;
&lt;p&gt;uat 发布 编译环境label 赋权 微机编译组&lt;/p&gt;</summary></entry></feed>