<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="sndnyang" />
        <meta name="copyright" content="sndnyang" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="CS, 机器学习, 人工智能, 机器学习, " />

<meta property="og:title" content="支持向量机系列一之介绍 "/>
<meta property="og:url" content="sndnyang.github.io/svm-1-max-margin.html" />
<meta property="og:description" content="支持向量机最大间隔介绍" />
<meta property="og:site_name" content="懒龙谷" />
<meta property="og:article:author" content="sndnyang" />
<meta property="og:article:published_time" content="2016-04-19T00:00:00+08:00" />
<meta property="" content="2016-04-19T00:00:00+08:00" />
<meta name="twitter:title" content="支持向量机系列一之介绍 ">
<meta name="twitter:description" content="支持向量机最大间隔介绍">


        <title>支持向量机系列一之介绍  · 懒龙谷
</title>

        <style>
            body { padding-top: 50px; padding-bottom: 10px; }
        </style>

        <link href="//cdn.bootcss.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet">
        <link href="//cdn.bootcss.com/bootstrap/2.3.2/css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="//cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">

        <script src="//cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>

        <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">

		<link rel="stylesheet" href="//bdimg.share.baidu.com/static/api/css/share_style1_24.css">
        <link rel="stylesheet" type="text/css" href="/theme/css/style.css" media="screen">
        
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="/"><span class=site-name>懒龙谷</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="/">Home</a></li>
                            <li ><a href="/categories.html">Categories</a></li>
                            <li ><a href="/tags.html">Tags</a></li>
                            <li ><a href="/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action=/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span12">


        <script src="/theme/js/index.js" type="text/javascript"></script>
        <script type="text/javascript" src="/theme/js/jQuery.md5.js"> </script>
        <script type="text/javascript">
		$(document).ready(function() {
		    backToTop();
		});
      
    	</script>
        
        <div class="hint">
            <ul class="flashes">
            </ul>
        </div>
        
        <article>
            <header class="page-header span12 text-center">
                <h1>
                    <a href="/svm-1-max-margin.html">
                        支持向量机系列一之介绍  
                    </a>
                </h1>
            </header>

            <div class="row-fluid">
                <div class="span2 table-of-content">
                    <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix">
                    <h4>Contents</h4>
                        <div class="toc">
<ul>
<li><a href="#_1">免责说明</a></li>
<li><a href="#_2">导读</a></li>
<li><a href="#_3">分类器</a><ul>
<li><a href="#_4">分类问题定义</a></li>
<li><a href="#_5">线性分类器</a></li>
</ul>
</li>
<li><a href="#-">分类结果-超平面</a><ul>
<li><a href="#_6">多个超平面</a></li>
<li><a href="#_7">评估方法</a></li>
</ul>
</li>
<li><a href="#-_1">评估超平面-距离</a><ul>
<li><a href="#_8">定义</a></li>
<li><a href="#_9">几何距离</a></li>
<li><a href="#_10">标准定义</a></li>
</ul>
</li>
<li><a href="#_11">几何间隔</a><ul>
<li><a href="#_12">定义</a></li>
<li><a href="#_13">函数间隔</a></li>
</ul>
</li>
<li><a href="#_14">最大间隔</a><ul>
<li><a href="#_15">一帆风顺地旅途到此结束</a></li>
</ul>
</li>
<li><a href="#_16">优化</a><ul>
<li><a href="#_17">等比变化</a><ul>
<li><a href="#_18">别人的解释</a></li>
</ul>
</li>
<li><a href="#_19">继续</a></li>
<li><a href="#_20">倒数变形</a></li>
<li><a href="#_21">等效变形</a></li>
</ul>
</li>
<li><a href="#_22">总结</a><ul>
<li><a href="#_23">复习</a></li>
<li><a href="#_24">恭喜！！！</a></li>
</ul>
</li>
</ul>
</div>
                    </nav>
                </div>
                <div class="span10 article-content">

                        
                        
<h2 id="_1">免责说明</h2>
<p>本文参考以下文献：</p>
<ol>
<li>pluskid支持向量机系列博文，特别是图片引用 <a href="http://blog.pluskid.org/?page_id=683">pluskid-svm</a></li>
<li>Andrew Ng在斯坦福的cs229讲义， <a href="http://cs229.stanford.edu/materials.html">cs229</a></li>
</ol>
<p>在下文笔较烂， 恐贻笑大方。 不过因为是markdown 写的， 有不足， 改进比较方便， 所以欢迎提出意见及建议，找出问题， 谢谢。</p>
<h2 id="_2">导读</h2>
<p>支持向量机support vector machine(SVM)有着很长很长的故事， 然而我并不熟悉~~~略过</p>
<p>默认读者已经了解机器学习领域里的分类 和 回归 的概念， 若不懂， 请参考 <a href="">敬请期待</a> 和 <a href="">请看下回</a></p>
<p>先下结论， SVM是效果最好、 现成可用的分类算法之一， 虽然也有被用来做回归的。</p>
<p>所以， 让我们从二元线性分类问题开始， 慢慢引出SVM。</p>
<h2 id="_3">分类器</h2>
<h3 id="_4">分类问题定义</h3>
<p>默认读者已经了解 分类问题， 但定义还是要写写</p>
<p>定义：</p>
<p>数据集 <span class="math">\(X = [x_1,...,x_m], 其中 x_i\)</span> 一般是一个n维列向量， 代表一个数据点，写程序时貌似更喜欢一行代表一个点</p>
<p>对应类别 <span class="math">\(y\)</span>, 用 1，-1 或 0，1 代表不同的分类。</p>
<p>分类问题就是要在 n维的数据空间中找出一个超平面, 希望通过这个超平面可以把两类数据完全分隔开来， 设函数 <span class="math">\(f(x)\)</span>, 该超平面方程为 f(x) = 0, 那么定义：</p>
<ol>
<li>超平面上的点都有 f(x) = 0</li>
<li>对 f(x) &lt; 0的点， 就令 y = -1</li>
<li>对 f(x) &gt; 0的点， 就令 y = 1</li>
</ol>
<p>用于提神的第一个问题(没水平， 连问题都编不出来), </p>
<h3 id="_5">线性分类器</h3>
<p>我们先从简单的线性分类器开始。 先来个前提， 假设数据确实线性可分。</p>
<p>假设该超平面的权重系数为 n维向量 w， bias偏置项为 b， x为n维列向量的点。</p>
<p>用于醒脑的第二个问题</p>
<h2 id="-">分类结果-超平面</h2>
<p>所以超平面方程可表示为： <span class="math">\(w^Tx + b = 0， 即 f(x) = w^Tx + b\)</span></p>
<p>我们知道， 超平面在二维空间中的例子就是一条直线, 如图所示(直接从pluskid博客上引用过来,需要自己另行制作吗？)：</p>
<p><img alt="pluskid-hyperplane" src="http://blog.pluskid.org/wp-content/uploads/2010/09/Hyper-Plane.png"/></p>
<h3 id="_6">多个超平面</h3>
<p>以上图为例， 我们知道，除了已有的这条啥颜色直线， 还有无数条直线， 都可以把红蓝点正确地分成两块。</p>
<p>比如， 用逻辑回归， 不同的初始值就可能得到不同的直线。</p>
<p>既然有无数种可能， 那我们应该如何选择？我承认问题和选项有点别扭~~~还好不是关键步骤。</p>
<p>
<div>
<p></p>
<input class="quiz" name="quiz" type="radio" value="随机选一条"/><b>随机选一条</b><br/>
<input class="quiz" name="quiz" type="radio" value="多条取平均"/><b>多条取平均</b><br/>
<input class="quiz" name="quiz" type="radio" value="放弃"/><b>放弃</b><br/>
<input class="quiz" name="quiz" type="radio" value="找出最好的一个"/><b>找出最好的一个</b><br/>
<button onclick="checkQuiz(this, 1)">submit</button><br/>
<input class="answers" type="hidden" value="bb36eb80ffc15aea450fb766de38045f"/><input class="comments" type="hidden" value="感觉有点别扭的问题~~~#答案是找最好的"/><br/>
</div>
</p>
<h3 id="_7">评估方法</h3>
<p>既然有无数种可能， 那么只要条件允许（时间、 金钱等）， 我们就要精益求精， 做到最好！ 完美！</p>
<p>言归正传， 哪个超平面是最好的呢？ 那就是个新的问题——怎么评估， 评估标准是什么。</p>
<p>你觉得评估标准应该是什么？</p>
<p>
<div>
<p></p>
<input class="quiz" name="quiz" type="checkbox" value="w范数值最小"/><b>w范数值最小</b><br/>
<input class="quiz" name="quiz" type="checkbox" value="超平面到所有点的距离之和最大"/><b>超平面到所有点的距离之和最大</b><br/>
<input class="quiz" name="quiz" type="checkbox" value="超平面到最近点的距离最大"/><b>超平面到最近点的距离最大</b><br/>
<input class="quiz" name="quiz" type="checkbox" value="w范数最大"/><b>w范数最大</b><br/>
<button onclick="checkQuiz(this, 2)">submit</button><br/>
<input class="answers" type="hidden" value="8aac4336078e3170bc8325035835ede9"/><input class="comments" type="hidden" value="虽然是多选题，svm只有一个选项(我的理解)"/><br/>
</div>
</p>
<h2 id="-_1">评估超平面-距离</h2>
<p>范数没用， theta 乘上个常数， 范数就变了， 但超平面不变——不进行数学推导了。</p>
<p>所有点距离之和 与 最近点距离 有点像， 但可能就是求所有点的距离 计算量可能大了点， 或者 数学推导出来效果不好</p>
<p>所以 只要找出 到相应最近点距离最大的超平面就好。（或许以后有人能找出其他方法~~~）</p>
<p>就是缓冲地带最大</p>
<h3 id="_8">定义</h3>
<p>那我们说距离、 或者间隔最大， 这里距离是指什么？</p>
<p>
<div>
<p></p>
<input class="quiz" name="quiz" type="radio" value="f(x)的绝对值"/><b>f(x)的绝对值</b><br/>
<input class="quiz" name="quiz" type="radio" value="点到超平面的垂线距离"/><b>点到超平面的垂线距离</b><br/>
<input class="quiz" name="quiz" type="radio" value="不知道"/><b>不知道</b><br/>
<input class="quiz" name="quiz" type="radio" value="编不出来选项了"/><b>编不出来选项了</b><br/>
<button onclick="checkQuiz(this, 3)">submit</button><br/>
<input class="answers" type="hidden" value="5613fd326e424953f2b615ce26d3b0f9"/><input class="comments" type="hidden" value="超平面到相应最近点距离，第一反应不可能是其他吧"/><br/>
</div>
</p>
<h3 id="_9">几何距离</h3>
<p>所以， 点到超平面的垂线距离 定义为 几何距离。</p>
<p>关于 <span class="math">\(f(x) = w^Tx+b=0\)</span>的超平面P 和 点z 的几何距离的计算或者说通用式， 建议不熟悉、 没印象的读者动手推导一下。</p>
<p>推导过程。 见<a href="">后续补充</a></p>
<p>先上结论： 点到超平面的几何距离(可能有误， 所以说要动手推导一下)</p>
<div class="math">$$ 
\gamma = \frac{w^Tx+b}{\|w\|}=\frac{f(x)}{\|w\|}
$$</div>
<p>本式有个问题， 不能做为距离使用， 请指出</p>
<p>
<div>
<p></p>
<input class="quiz" name="quiz" type="radio" value="||w||未定义"/><b>||w||未定义</b><br/>
<input class="quiz" name="quiz" type="radio" value="||w||是范数，范数有很多种"/><b>||w||是范数，范数有很多种</b><br/>
<input class="quiz" name="quiz" type="radio" value="结果可能为负"/><b>结果可能为负</b><br/>
<input class="quiz" name="quiz" type="radio" value="跟类别y无关"/><b>跟类别y无关</b><br/>
<input class="quiz" name="quiz" type="radio" value="太简单"/><b>太简单</b><br/>
<input class="quiz" name="quiz" type="radio" value="推导太复杂"/><b>推导太复杂</b><br/>
<input class="quiz" name="quiz" type="radio" value="不知道"/><b>不知道</b><br/>
<button onclick="checkQuiz(this, 4)">submit</button><br/>
<input class="answers" type="hidden" value="8d090ea1a62ae94387a91c6c9de21e16"/><input class="comments" type="hidden" value="距离一定是什么样的？"/><br/>
</div>
</p>
<h3 id="_10">标准定义</h3>
<p>上式存在负值的可能， 距离是不可能用负值的， 所以再取个绝对值， 等效于乘以 y, 因为 f(x)小于0时, y = -1. 仍使用 gamma 记号
</p>
<div class="math">$$
几何距离: \gamma = |\gamma| = y\gamma = y*\frac{w^Tx+b}{\|w\|}=\frac{y*f(x)}{\|w\|}
$$</div>
<p>所以， 单点到超平面距离知道怎么求了， 下一步呢？</p>
<p>
<div>
<p></p>
<input class="quiz" name="quiz" type="radio" value="随机找一点的几何距离"/><b>随机找一点的几何距离</b><br/>
<input class="quiz" name="quiz" type="radio" value="求全部点的距离之和"/><b>求全部点的距离之和</b><br/>
<input class="quiz" name="quiz" type="radio" value="找最远点"/><b>找最远点</b><br/>
<input class="quiz" name="quiz" type="radio" value="找最近点"/><b>找最近点</b><br/>
<input class="quiz" name="quiz" type="radio" value="求平均值"/><b>求平均值</b><br/>
<input class="quiz" name="quiz" type="radio" value="求平均值后找最接近平均值的一个点"/><b>求平均值后找最接近平均值的一个点</b><br/>
<button onclick="checkQuiz(this, 5)">submit</button><br/>
<input class="answers" type="hidden" value="a6b4831bf495ea8b0095d2963b153d2a"/><input class="comments" type="hidden" value="还记得如何评估超平面吗？"/><br/>
</div>
</p>
<h2 id="_11">几何间隔</h2>
<p>已知某个点到超平面的几何距离（几何间隔）</p>
<div class="math">$$ \gamma = y*\frac{w^Tx+b}{\|w\|}=\frac{y*f(x)}{\|w\|} $$</div>
<p>我们知道， 要找的是超平面的最近点。</p>
<h3 id="_12">定义</h3>
<p>最近点到其超平面的几何距离， 就是所有点到该超平面的几何距离的最小值， 定义为该平面的几何间隔geometrical margin （当然我这个概念理解 可能有问题， 但大体上不影响理解）</p>
<p>所以有 几何间隔:</p>
<div class="math">$$
\tilde{\gamma} = \min_{i=1,...,m} \gamma^{(i)}
$$</div>
<h3 id="_13">函数间隔</h3>
<p>一般的教程 会同时介绍个 函数间隔  functional margin。 但咱们秉承从直观分析开始， 需要时再合理推导的精神， 先不讨论这个玩意(貌似后面就没讨论过， 真可以不要）， 虽然二者等价， 但我们现在只要一个就够。</p>
<p>直接上定义（单点 函数距离 求最小为间隔， 公式里写的是函数距离， 省略求最小）</p>
<div class="math">$$\hat{\gamma}=y(w^Tx+b)=yf(x)$$</div>
<p>已知几何间隔，</p>
<p>
<div>
<p>那下一步呢?</p>
<input class="quiz" name="quiz" type="radio" value="不知道"/><b>不知道</b><br/>
<input class="quiz" name="quiz" type="radio" value="梯度下降法"/><b>梯度下降法</b><br/>
<input class="quiz" name="quiz" type="radio" value="求最大化"/><b>求最大化</b><br/>
<input class="quiz" name="quiz" type="radio" value="蒙特卡罗模拟"/><b>蒙特卡罗模拟</b><br/>
<input class="quiz" name="quiz" type="radio" value="酱油"/><b>酱油</b><br/>
<button onclick="checkQuiz(this, 6)">submit</button><br/>
<input class="answers" type="hidden" value="b4007b0b6bed21d43e8a51a202b84137"/><input class="comments" type="hidden" value="还记得要做什么吗？"/><br/>
</div>
</p>
<h2 id="_14">最大间隔</h2>
<p>还记得我们要做什么吧？ 找出到相应最近点距离最大的超平面， 也就是几何间隔最大的 超平面。</p>
<p>如下：</p>
<div class="math">$$
\begin{align}
&amp;\max_{w,b} \tilde{\gamma} \\
&amp; 
\begin{array}
&amp;s.t.
&amp;y^{(i)}(w^Tx^{(i)} + b) ≥ \tilde{\gamma},  &amp;i=1,\ldots,m\\
\end{array}
\end{align}
$$</div>
<p>即：</p>
<div class="math">$$
\begin{align}
&amp;\max_{w,b} \min_{i=1,...,m}  \frac{y^{(i)}(w^Tx^{(i)}+b)}{\|w\|} 
\end{align}
$$</div>
<p>为美观着想， 忽略求最近点，即求最小的min符号及i标号</p>
<div class="math">$$
\begin{align}
&amp;\max_{w,b} \frac{y(w^Tx+b)}{\|w\|} \\
&amp; 
\begin{array}
&amp;s.t.
&amp;y^{(i)}(w^Tx^{(i)} + b) ≥ \tilde{\gamma}*||w||,  &amp;i=1,\ldots,m\\
\end{array}
\end{align}
$$</div>
<h3 id="_15">一帆风顺地旅途到此结束</h3>
<p>到上面的公式（latex给公式上标号 不会啊）， 应该是已经得到一个待优化的问题。</p>
<p>那我们还能再进一步优化吗？我们要真正地去发现、 分析、 探索。做科研就是这样， 但因为没有具体的方向， 我们就要有一些指导性的原则， 遇到 什么问题， 大概用什么样的思路地尝试。</p>
<p>技术问题， 暂不提供无标准答案的填空题， 有心的读者请先再草稿纸上写写你的想法， 你要来优化， 会怎么做？写思路。</p>
<h2 id="_16">优化</h2>
<p>所以， 就来看这个式子</p>
<div class="math">$$ \max_{w,b} \frac{y(w^Tx+b)}{\|w\|}=\frac{\hat{\gamma}}{||w||} $$</div>
<p>首先， <span class="math">\(w 和 ||w||\)</span> 和 <span class="math">\(b\)</span> 是未知的， 待求的， 肯定没法下手了。</p>
<p>那上面的这个 <span class="math">\(\hat{\gamma}\)</span> 是不是能做点文章呢? </p>
<p>y 就是给它取正，取正 = 取绝对值， 平方也能取正， 好， 小本子上记下， 来个求平方？</p>
<p>还有呢？ <span class="math">\(w^Tx+b\)</span> 是个线性关系， 对吧？</p>
<p>所以， 它有什么性质， 而且还是个跟除法有关的性质呢？</p>
<p>
<div>
<p></p>
<input class="quiz" name="quiz" type="radio" value="不知道"/><b>不知道</b><br/>
<input class="quiz" name="quiz" type="radio" value="编不出来"/><b>编不出来</b><br/>
<input class="quiz" name="quiz" type="radio" value="等比变化不变"/><b>等比变化不变</b><br/>
<input class="quiz" name="quiz" type="radio" value="最简方程"/><b>最简方程</b><br/>
<input class="quiz" name="quiz" type="radio" value="可线性组合"/><b>可线性组合</b><br/>
<button onclick="checkQuiz(this, 7)">submit</button><br/>
<input class="answers" type="hidden" value="1585ce72ed04e7192e7ee3024f046088"/><input class="comments" type="hidden" value="答案比较明显，选项太难编了"/><br/>
</div>
</p>
<h3 id="_17">等比变化</h3>
<p>那小本本上的求平方就被我们扔脑后了， 求平方还会搞得更复杂。</p>
<p>将<span class="math">\(\hat{\gamma}=y(w^Tx+b) 的 w和b\)</span>按比例变化时， 有两点</p>
<ol>
<li>对目标函数的优化没影响， 这个比较直观， 因为方程变化后， 最近点还是最近点， 几何间隔（最近点到超平面的几何距离 ）<span class="math">\(\tilde{\gamma}\)</span>不变。</li>
<li>不等式约束不变化， 没影响。 几何间隔<span class="math">\(\tilde{\gamma}\)</span>不变, 左式变化的比例， 会等比地影响到<span class="math">\(||w||\)</span>。</li>
</ol>
<p>那我们就开始搞坏事了~~~就要去给它变一下。 怎么变？</p>
<p>
<div>
<p></p>
<input class="quiz" name="quiz" type="radio" value="等于0"/><b>等于0</b><br/>
<input class="quiz" name="quiz" type="radio" value="等于1"/><b>等于1</b><br/>
<input class="quiz" name="quiz" type="radio" value="除以几何间隔"/><b>除以几何间隔</b><br/>
<input class="quiz" name="quiz" type="radio" value="除以||w||"/><b>除以||w||</b><br/>
<button onclick="checkQuiz(this, 8)">submit</button><br/>
<input class="answers" type="hidden" value="307dabc681f0cfd49db8021904df2b5f"/><input class="comments" type="hidden" value="效果相同，但是原因更重要（仅仅个人观点），而且貌似也不对"/><br/>
</div>
</p>
<h4 id="_18">别人的解释</h4>
<p>好吧， 我还是无法严密地说清楚这一变化的原因。</p>
<p>李航的《统计学习方法》就说 <span class="math">\(\hat{\gamma}\)</span>的取值不影响最优化问题的解</p>
<p>pluskid 写的是固定变量， 固定的方式有两种：</p>
<ol>
<li>固定 <span class="math">\(\|w\|\)</span> </li>
<li>固定 <span class="math">\(\hat{\gamma}\)</span> ，</li>
</ol>
<p>出于方便推导和优化的目的，选择第二种</p>
<p>Ng的描述为：</p>
<p>Recall our earlier discussion that we can add an arbitrary scaling constraint on w and b without changing anything. This is the key idea we’ll use now. </p>
<p>We will introduce the scaling constraint that the functional margin of w, b with respect to the training set must be 1:
</p>
<div class="math">$$\hat{\gamma} = 1.$$</div>
<p>Since multiplying w and b by some constant results in the functional margin being multiplied by that same constant, this is indeed a scaling constraint, and can be satisfied by rescaling w, b. Plugging this into our problem above, and noting that maximizing
</p>
<div class="math">$$\hat{\gamma}/||w|| = 1/||w||$$</div>
<h3 id="_19">继续</h3>
<p>总之， 令 <span class="math">\(\hat{\gamma}=1\)</span></p>
<p>则我们的目标函数化为： 
</p>
<div class="math">$$ 
\begin{align} 
&amp;\max_{w,b} \frac{1}{\|w\|} \\
&amp; 
\begin{array}
&amp;
s.t., y_i(w^Tx_i+b)\geq 1, i=1,\ldots,m\\ \end{array}
\end{align}
$$</div>
<p>通过求解这个问题，我们就可以找到一个 margin 最大的 classifier ，如下图所示，中间的红色线条是 Optimal Hyper Plane ，另外两条线到红线的距离都是等于 <span class="math">\(\tilde{\gamma}\)</span> 的：</p>
<p><img alt="optimal-hplane" src="http://blog.pluskid.org/wp-content/uploads/2010/09/Optimal-Hyper-Plane.png"/></p>
<h3 id="_20">倒数变形</h3>
<p>到上一步时， 我们得到了一个优化问题， 优化一个 <code>1/||w||</code>, 一个倒数， 不好。</p>
<p>根据最优化理论——我也不懂， <span class="math">\(\max \frac{1}{||w||}\)</span>等价于<span class="math">\(\min ||w||\)</span></p>
<p>
<div>
<p>有什么问题吗?</p>
<input class="quiz" name="quiz" type="radio" value="没问题"/><b>没问题</b><br/>
<input class="quiz" name="quiz" type="radio" value="不成立"/><b>不成立</b><br/>
<input class="quiz" name="quiz" type="radio" value="不能求导"/><b>不能求导</b><br/>
<input class="quiz" name="quiz" type="radio" value="不知道"/><b>不知道</b><br/>
<input class="quiz" name="quiz" type="radio" value="值不连续"/><b>值不连续</b><br/>
<button onclick="checkQuiz(this, 9)">submit</button><br/>
<input class="answers" type="hidden" value="518c5be23ab22d7b9f28cdcf8f3f07b1"/><input class="comments" type="hidden" value="最优化问题都少不了用偏导来梯度下降"/><br/>
</div>
</p>
<h3 id="_21">等效变形</h3>
<p>不能用一次的， 那就改成平方， 对求最优化问题没影响， 另外求导的原因， 再加上一个参数， 最终结果如下：</p>
<div class="math">$$ 
\begin{align} 
&amp;\min_{w,b} \frac{1}{2}\|w\|^2 \\
&amp; 
\begin{array}
&amp;
s.t., y_i(w^Tx_i+b)\geq 1, i=1,\ldots,m\\ \end{array}
\end{align}
$$</div>
<p>最终我们得到了一个凸优化问题，或者更具体地说，它是一个二次优化问题——目标函数是二次的，约束条件是线性的。这个问题可以用任何现成的 QP (Quadratic Programming) 的优化包进行求解。</p>
<h2 id="_22">总结</h2>
<h3 id="_23">复习</h3>
<p>回忆一下， 我们整个过程做了哪些事。</p>
<ol>
<li>从二元线性分类开始， 我们明确要求超平面， 分类器都是这么干的。</li>
<li>超平面有很多个， 我们就要有对超平面的评估标准。</li>
<li>评估标准就要计算距离， 我们就用上了几何距离。</li>
<li>有了几何距离， 我们就有最近点的几何距离， 就是几何间隔。</li>
<li>知道了几何间隔， 我们就要求出最大的几何间隔 及 对应的超平面， 绕了一圈， 又绕回到第1条。</li>
<li>优化公式里的 <span class="math">\(\hat{\gamma}=y(w^Tx+b)\)</span> 有着特殊的性质， 取值对最优化问题的解不影响。 所以我们把它设为1了。</li>
<li>最后再把倒数形式的<span class="math">\(\max \frac{1}{||w||}\)</span> 转成 <span class="math">\(\min \frac{1}{2}\|w\|^2\)</span></li>
</ol>
<h3 id="_24">恭喜！！！</h3>
<p>一路艰辛， SVM 这才完成了最简单的部分， 后面理论 的推导更加复杂， 做好心理准备吧！</p>
<p>下一节<a href="">支持向量 并没有写出来</a></p>
<p>如果您觉得这种学习方式有帮助的话， 呃， 那就好~~~</p>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
                        
                        <div class="bdsharebuttonbox bdshare-button-style1-24" data-bd-bind="1444449175032">
                    <a href="#" class="bds_more" data-cmd="more"></a>
                    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
                    <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
                    <a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>
                    <a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
                    <a href="#" class="bds_copy" data-cmd="copy" title="分享到复制网址"></a>
                </div>

                    <section>
<div class="accordion" id="accordion2">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle disqus-comment-count" data-toggle="collapse" data-parent="#accordion2"
                href="sndnyang.github.io/svm-1-max-margin.html#disqus_thread">
                Comments
            </a>
        </div>
        <div id="disqus_thread" class="accordion-body collapse">
            <div class="accordion-inner">
                <div class="comments">
                    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'sndnyang';
        var disqus_identifier = 'sndnyang.github.io/svm-1-max-margin.html';
    var disqus_url = 'sndnyang.github.io/svm-1-max-margin.html';

    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

                </div>
            </div>
        </div>
    </div>
</div>
</section>

                    <hr/>
                </div>
                <div class="span2" style="float:right;font-size:0.9em;">
                    <h4>Published</h4>
                    <time pubdate="pubdate" datetime="2016-04-19T00:00:00+08:00">四月 19, 2016</time>

<h4>Last Updated</h4>
<time datetime="2016-04-19T00:00:00+08:00">四月 19, 2016</time>

                    <h4>Category</h4>
                    <a class="category-link" href="/categories.html#ji-qi-xue-xi-ref">机器学习</a>
                    <h4>Tags</h4>
                    <ul class="list-of-tags tags-in-article">
                        <li><a href="/tags.html#cs-ref">CS
                            <span>20</span>
</a></li>
                        <li><a href="/tags.html#ji-qi-xue-xi-ref">机器学习
                            <span>3</span>
</a></li>
                        <li><a href="/tags.html#ren-gong-zhi-neng-ref">人工智能
                            <span>5</span>
</a></li>
                    </ul>
<h4>Contact</h4>
    <a href="#" title="My You can add links in your config file Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-you can add links in your config file sidebar-social-links"></i></a>
    <a href="#" title="My Another social link Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-another social link sidebar-social-links"></i></a>
                    <h4>Stay in Touch</h4>
                    <a href="//weibo.com/u/2405149384" title="My Weibo
                        Profile" class="am-icon-btn am-icon-weibo" target="_blank">
                    </a>
                    <a href="//github.com/sndnyang" title="My Github Profile" class="am-icon-btn am-icon-github" target="_blank">
                    </a>
                    <a href="//blog.csdn.net/sndnyangd" title="My CSDN
                        Profile" class="am-icon-btn am-icon-weibo" target="_blank">
                    </a>
                </div>
            </div>
        </article>
                </div>
            </div>
        </div>
        <div id="top" data-toggle="tooltip" data-placement="left" title="回到顶部">
        <a href="javascript:;">
        <div class="arrow"></div>
        <div class="stick"></div>
      </a>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

            <script type="text/javascript">
var disqus_shortname = 'sndnyang';
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
<script  language="javascript" type="text/javascript">
function uncollapse() {
    if (window.location.hash.match(/^#comment-\d+$/)) {
        $('#disqus_thread').collapse('show');
    }
}
</script>
<script type="text/javascript" language="JavaScript">
uncollapse();
window.onhashchange=function(){
    if (window.location.hash.match(/^#comment-\d+$/))
        window.location.reload(true);
}
</script>
<script>
$('#disqus_thread').on('shown', function () {
    var link = document.getElementsByClassName('accordion-toggle');
    var old_innerHTML = link[0].innerHTML;
    $(link[0]).fadeOut(500, function() {
        $(this).text('Click here to hide comments').fadeIn(500);
    });
    $('#disqus_thread').on('hidden', function () {
        $(link[0]).fadeOut(500, function() {
            $(this).text(old_innerHTML).fadeIn(500);
        });
    })
})
</script>


        <script src="//cdn.bootcss.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-74494551-1', 'auto');
            ga('send', 'pageview');

        </script>
        <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
    </body>
</html>